isInit: false
name: "go-template"
image: "ghcr.io/iypetrov/go-template:1.17.0"
hostname: "template.ip812.com"
replicas: 1
minMemory: "64Mi"
maxMemory: "128Mi"
minCPU: "50m"
maxCPU: "100m"
healthCheckEndpoint: "/healthz"
env:
  - name: APP_ENV
    value: "prod"
  - name: APP_DOMAIN
    value: "template.ip812.com"
  - name: APP_PORT
    value: "8080"
  - name: DB_NAME
    value: "template"
  - name: DB_USERNAME
    valueFrom:
      secretKeyRef:
        name: "go-template-creds"
        key: PG_USERNAME
  - name: DB_PASSWORD
    valueFrom:
      secretKeyRef:
        name: "go-template-creds"
        key: PG_PASSWORD
  - name: DB_ENDPOINT
    value: "template-pg-rw.go-template.svc.cluster.local"
  - name: DB_SSL_MODE
    value: disable
  - name: OTEL_EXPORTER_OTLP_ENDPOINT
    value: jaeger.monitoring.svc.cluster.local:4318
  - name: OTEL_EXPORTER_OTLP_INSECURE
    value: true
database:
  postgres:
    name: "template"
    host: "template-pg-rw.go-template.svc.cluster.local"
    image: "ghcr.io/cloudnative-pg/postgresql:16.1"
    username: "admin123"
    storageSize: "1Gi"
    retentionPolicy: "7d"
    backupsBucket: "pg-backups-202507041132"
    backupSchedule: "0 0 0 * * *"
